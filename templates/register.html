{% extends "base.html" %}

{% block title %}Patient Registration{% endblock %}

{% block content %}

<div class="row justify-content-center">
  <div class="col-md-6">

    <div class="card p-4 shadow">
      <h2 class="card-title text-center mb-4">Patient Registration</h2>

      <form action="{{ url_for('main.register') }}" method="POST">

        <!-- Full Name -->
        <div class="mb-3">
          <label for="name" class="form-label">Full Name</label>
          <input type="text" class="form-control" id="name" name="name"
              value="{{ name or '' }}"
              required maxlength="50" pattern="[A-Za-z ]+"
              placeholder="Enter your full name">
        </div>

        <!-- Gender -->
        <div class="mb-3">
          <label for="gender" class="form-label">Gender</label>
          <select class="form-select" id="gender" name="gender" required>
            <option value="" disabled >Select gender</option>
            <option value="Male" {% if gender == 'Male' %}selected{% endif %}>Male</option>
            <option value="Female" {% if gender == 'Female' %}selected{% endif %}>Female</option>
            <option value="Other" {% if gender == 'Other' %}selected{% endif %}>Other</option>
          </select>
        </div>

        <!-- Date of Birth -->
        <div class="mb-3">
          <label for="dob" class="form-label">Date of Birth</label>
          <input type="date" class="form-control" id="dob" name="dob"
                 value="{{ dob or '' }}" required max="{{ current_date }}">
        </div>

        <!-- Phone Number -->
        <div class="mb-3">
          <label for="phone_no" class="form-label">Phone Number</label>
          <input type="tel" class="form-control" id="phone_no" name="phone_no"
                 value="{{ phone_no or '' }}" required maxlength="15"
                 placeholder="Enter your phone number">
        </div>

        <!-- Email -->
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input type="email" class="form-control" id="email" name="email"
                 value="{{ email or '' }}" required placeholder="Enter your email">
        </div>

        <!-- Username -->
        <div class="mb-3">
          <label for="username" class="form-label">Username</label>
          <input type="text" class="form-control" id="username" name="username"
                 value="{{ username or '' }}"
                 required minlength="6" maxlength="20" pattern="[A-Za-z0-9]+"
                 placeholder="Choose a username"
                 title="6â€“20 characters long, only letters and numbers">
        </div>

        <!-- Password -->
        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <input type="password" class="form-control" id="password" name="password"
                 required minlength="8"
                 placeholder="Enter a password"
                 title="Password must be at least 8 characters long">
        </div>

        <button type="submit" class="btn btn-primary w-100">Register</button>
      </form>

      <p class="mt-3 text-center">
        Already have an account? <a href="{{ url_for('main.patient_login') }}">Login</a>
      </p>

    </div>

  </div>
</div>

{% endblock %}
